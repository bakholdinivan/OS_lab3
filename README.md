# Лабораторная работа №3 — Взаимодействие процессов через mmap

 
Репозиторий содержит реализацию лабораторной работы по обмену данными между процессами с помощью отображаемого в память файла (mmap) и именованных POSIX‑семафоров. Родитель (parent) читает входной файл с командами (в каждой строке — числа типа float), записывает данные в mmap‑файл, синхронизирует дочерний процесс через семафор, дочерний (child) обрабатывает данные, записывает результаты обратно в mmap, сигнализирует о завершении, а родитель затем читает и выводит результат.

Структура (всё внутри каталога solve)
- Makefile
- build/child — исполняемый файл дочернего процесса (после сборки)
- build/parent — исполняемый файл родителя (после сборки)
- parent.c — исходник родителя
- child.c — исходник дочернего
- examples/ — пример входного файла (опционально)

Сборка
В корне проекта выполните:
make

Запуск
1. Подготовьте текстовый файл с командами, например `input.txt`, пример:
   1.5 2.3 3.2
   -4.5 15005.0
   10

2. Запустите родителя:
   ./build/parent

   Программа запросит "Enter filename: " — введите имя файла (например `input.txt`).


Ключевые моменты реализации
- mmap (MAP_SHARED) + ftruncate — общая область памяти для обмена без лишних копирований.
- Синхронизация: именованные POSIX‑семафоры (sem_open / sem_wait / sem_post / sem_unlink) — детерминированный протокол.
- Когерентность: msync(MS_SYNC) — обязателен до/после семафорного сигнала для кросс‑CPU видимости данных.
- Ресурсы: аккуратное создание/удаление семафоров и временного mmap‑файла, проверка ошибок системных вызовов.
- Вывод результатов: дочерний формирует текст "Sum: XX.XX\n" и записывает в общую память; родитель выводит его после синхронизации.

Примечания
- Программы рассчитаны на Unix‑подобные системы (Linux).


